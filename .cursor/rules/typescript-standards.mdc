---
globs: *.ts,*.tsx
---

# TypeScript 代码规范

## 类型定义

- 始终使用明确的类型，避免使用 `any`
- 使用接口（interface）定义对象类型
- 使用类型别名（type）定义联合类型或复杂类型
- 类型定义统一放在 [src/renderer/src/types/](mdc:src/renderer/src/types/) 或相关模块附近

## 导入规范

- 使用 ES6 模块语法（import/export）
- 按以下顺序组织导入：
  1. 第三方库
  2. 项目内部模块
  3. 类型导入（使用 `import type`）
  4. 相对路径导入

示例：
```typescript
import { ref, computed } from 'vue'
import { useBookStore } from '@/stores/book'
import type { Book } from '@/types/book'
import { formatDate } from './utils'
```

## 错误处理

- 使用 try-catch 处理异步操作
- 在主进程中记录错误到日志：`logger.error()`
- 在渲染进程中向用户显示友好的错误提示

## 异步操作

- 优先使用 async/await 而非 Promise.then()
- 对于可能失败的操作，始终进行错误处理

## 命名规范

- 变量和函数：camelCase
- 类型和接口：PascalCase
- 常量：UPPER_SNAKE_CASE
- 私有成员：使用 `_` 前缀或 TypeScript `private` 关键字
