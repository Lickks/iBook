---
globs: *.vue
---

# Vue 组件开发规范

## 组件结构

使用 Vue 3 Composition API，按以下顺序组织：

```vue
<template>
  <!-- 模板内容 -->
</template>

<script setup lang="ts">
// 1. 导入
import { ref, computed } from 'vue'
import { useBookStore } from '@/stores/book'

// 2. Props 和 Emits 定义
const props = defineProps<{...}>()
const emit = defineEmits<{...}>()

// 3. Stores
const bookStore = useBookStore()

// 4. 响应式状态
const count = ref(0)

// 5. 计算属性
const doubleCount = computed(() => count.value * 2)

// 6. 方法
function handleClick() {
  // ...
}

// 7. 生命周期
onMounted(() => {
  // ...
})
</script>

<style scoped>
/* 样式 */
</style>
```

## 组件命名

- 组件文件名：PascalCase（如 `BookCard.vue`）
- 在模板中使用：kebab-case（如 `<book-card />`）

## 状态管理

- 使用 Pinia stores 管理全局状态
- 组件内部状态使用 `ref` 或 `reactive`
- 避免在组件中直接操作数据库，通过 API 层调用

## 样式

- 使用 `scoped` 样式避免样式污染
- 支持暗色主题，使用 CSS Variables
- 参考 [src/renderer/src/assets/main.css](mdc:src/renderer/src/assets/main.css) 中的主题变量

## Element Plus

- 使用 Element Plus 组件库
- 组件已通过 `unplugin-vue-components` 自动导入，无需手动 import
- 参考 [Element Plus 文档](https://element-plus.org/) 使用组件

## 类型安全

- Props 和 Emits 使用 TypeScript 类型定义
- 使用 `defineProps<T>()` 和 `defineEmits<T>()` 语法
