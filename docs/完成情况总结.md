# é¡¹ç›®åˆå§‹åŒ–å®Œæˆæ€»ç»“

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. é¡¹ç›®é…ç½®

#### electron.vite.config.ts
- âœ… æ·»åŠ äº† Element Plus è‡ªåŠ¨å¯¼å…¥é…ç½®
- âœ… é…ç½®äº† AutoImport å’Œ Components æ’ä»¶
- âœ… æ”¯æŒ Vueã€Vue Routerã€Pinia çš„è‡ªåŠ¨å¯¼å…¥

#### TypeScript é…ç½®
- âœ… tsconfig.json å·²é…ç½®
- âœ… tsconfig.node.json å·²é…ç½®
- âœ… tsconfig.web.json å·²é…ç½®

#### ESLint å’Œ Prettier
- âœ… ESLint é…ç½®å·²å°±ç»ªï¼ˆeslint.config.mjsï¼‰
- âœ… Prettier é…ç½®å·²å°±ç»ªï¼ˆ.prettierrc.yamlï¼‰

### 2. é¡¹ç›®ç›®å½•ç»“æ„

```
src/renderer/src/
â”œâ”€â”€ router/          âœ… å·²åˆ›å»º
â”œâ”€â”€ stores/          âœ… å·²åˆ›å»º
â”œâ”€â”€ api/             âœ… å·²åˆ›å»º
â”œâ”€â”€ types/           âœ… å·²åˆ›å»º
â”œâ”€â”€ views/           âœ… å·²åˆ›å»º
â”œâ”€â”€ utils/           âœ… å·²åˆ›å»º
â”œâ”€â”€ constants/       âœ… å·²åˆ›å»º
â””â”€â”€ components/      âœ… å·²å­˜åœ¨ï¼ˆæ¨¡æ¿è‡ªå¸¦ï¼‰
```

### 3. æ ¸å¿ƒæ–‡ä»¶

#### è·¯ç”±é…ç½®
- âœ… `src/renderer/src/router/index.ts`
  - é…ç½®äº† 5 ä¸ªè·¯ç”±ï¼šHome, BookDetail, AddBook, Statistics, Settings
  - ä½¿ç”¨æ‡’åŠ è½½æ–¹å¼åŠ è½½ç»„ä»¶

#### çŠ¶æ€ç®¡ç†
- âœ… `src/renderer/src/stores/index.ts`
  - Pinia å®ä¾‹å·²åˆ›å»ºå¹¶å¯¼å‡º

#### ç±»å‹å®šä¹‰
- âœ… `src/renderer/src/types/book.ts`
  - Book, BookInput, Document, SearchResult æ¥å£
- âœ… `src/renderer/src/types/api.ts`
  - ApiResponse, PaginationParams, PaginationResponse æ¥å£
- âœ… `src/renderer/src/types/index.ts`
  - ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰ç±»å‹

#### è§†å›¾ç»„ä»¶
- âœ… `src/renderer/src/views/Home.vue` - é¦–é¡µ
- âœ… `src/renderer/src/views/BookDetail.vue` - ä¹¦ç±è¯¦æƒ…é¡µ
- âœ… `src/renderer/src/views/AddBook.vue` - æ·»åŠ ä¹¦ç±é¡µ
- âœ… `src/renderer/src/views/Statistics.vue` - ç»Ÿè®¡åˆ†æé¡µ
- âœ… `src/renderer/src/views/Settings.vue` - è®¾ç½®é¡µ

#### å·¥å…·å‡½æ•°
- âœ… `src/renderer/src/utils/format.ts`
  - formatWordCount - æ ¼å¼åŒ–å­—æ•°
  - formatFileSize - æ ¼å¼åŒ–æ–‡ä»¶å¤§å°
  - formatDate - æ ¼å¼åŒ–æ—¥æœŸ
  - formatRelativeTime - æ ¼å¼åŒ–ç›¸å¯¹æ—¶é—´

#### å¸¸é‡å®šä¹‰
- âœ… `src/renderer/src/constants/index.ts`
  - READING_STATUS - é˜…è¯»çŠ¶æ€å¸¸é‡
  - WORD_COUNT_SOURCE - å­—æ•°æ¥æºå¸¸é‡
  - SUPPORTED_FILE_TYPES - æ”¯æŒçš„æ–‡æ¡£ç±»å‹
  - MAX_FILE_SIZE - æ–‡ä»¶å¤§å°é™åˆ¶

#### API æ¥å£å±‚
- âœ… `src/renderer/src/api/book.ts`
  - getAllBooks, getBookById, createBook, updateBook, deleteBook, searchBooks
  - å·²å®ç°å®Œæ•´çš„ IPC è°ƒç”¨
- âœ… `src/renderer/src/api/document.ts`
  - æ–‡æ¡£ä¸Šä¼ ã€åˆ é™¤ã€æ‰“å¼€ã€å­—æ•°ç»Ÿè®¡ç­‰ API
- âœ… `src/renderer/src/api/search.ts`
  - ç½‘ç»œæ£€ç´¢ APIï¼ˆyoushu.meï¼‰
- âœ… `src/renderer/src/api/stats.ts`
  - ç»Ÿè®¡åˆ†æç›¸å…³ API

### 4. ä¸»è¿›ç¨‹æœåŠ¡å®ç°
- âœ… `src/main/services/database.ts`
  - å®Œæ•´çš„æ•°æ®åº“æœåŠ¡ï¼ˆSQLite CRUDï¼‰
  - ä¹¦ç±ã€æ–‡æ¡£ã€ç¬”è®°ã€æ ‡ç­¾ã€é˜…è¯»è¿›åº¦ç­‰æ‰€æœ‰æ•°æ®è¡¨æ“ä½œ
- âœ… `src/main/services/spider.ts`
  - youshu.me ç½‘ç»œçˆ¬è™«æœåŠ¡
  - ä¹¦ç±ä¿¡æ¯æ£€ç´¢ä¸è§£æ
- âœ… `src/main/services/fileManager.ts`
  - æ–‡ä»¶ç®¡ç†æœåŠ¡ï¼ˆä¿å­˜ã€åˆ é™¤ã€æ‰“å¼€ï¼‰
- âœ… `src/main/services/wordCounter.ts`
  - å¤šæ ¼å¼æ–‡æ¡£å­—æ•°ç»Ÿè®¡ï¼ˆTXTã€EPUBã€PDFã€DOCXï¼‰
- âœ… `src/main/services/cover.ts`
  - å°é¢ä¸‹è½½æœåŠ¡

### 5. IPC å¤„ç†å™¨
- âœ… `src/main/ipc/bookHandler.ts`
  - ä¹¦ç±ç›¸å…³ IPC å¤„ç†
- âœ… `src/main/ipc/documentHandler.ts`
  - æ–‡æ¡£ç›¸å…³ IPC å¤„ç†
- âœ… `src/main/ipc/searchHandler.ts`
  - æœç´¢ç›¸å…³ IPC å¤„ç†
- âœ… `src/main/ipc/statsHandler.ts`
  - ç»Ÿè®¡ç›¸å…³ IPC å¤„ç†

### 6. Preload è„šæœ¬
- âœ… `src/preload/index.ts`
  - å®Œæ•´çš„ API æš´éœ²ï¼ˆbookã€documentã€searchã€statsï¼‰
- âœ… `src/preload/index.d.ts`
  - å®Œæ•´çš„ TypeScript ç±»å‹å£°æ˜

### 7. çŠ¶æ€ç®¡ç†ï¼ˆPinia Storesï¼‰
- âœ… `src/renderer/src/stores/book.ts`
  - ä¹¦ç±çŠ¶æ€ç®¡ç†ï¼ˆCRUDã€æœç´¢ã€ç­›é€‰ã€çŠ¶æ€æ›´æ–°ï¼‰
- âœ… `src/renderer/src/stores/ui.ts`
  - UI çŠ¶æ€ï¼ˆä¸»é¢˜ã€è§†å›¾æ¨¡å¼ã€ä¾§è¾¹æ ï¼‰
- âœ… `src/renderer/src/stores/stats.ts`
  - ç»Ÿè®¡æ•°æ®çŠ¶æ€
- âœ… `src/renderer/src/stores/displayMode.ts`
  - æ˜¾ç¤ºæ¨¡å¼çŠ¶æ€ï¼ˆç½‘æ ¼/åˆ—è¡¨è§†å›¾ï¼‰

### 8. æ ¸å¿ƒç»„ä»¶
- âœ… `src/renderer/src/components/BookCard.vue`
  - ä¹¦ç±å¡ç‰‡ï¼ˆç½‘æ ¼è§†å›¾ï¼‰
  - æ”¯æŒå¿«æ·çŠ¶æ€åˆ‡æ¢
- âœ… `src/renderer/src/components/BookForm.vue`
  - ä¹¦ç±è¡¨å•ï¼ˆæ·»åŠ /ç¼–è¾‘ï¼‰
- âœ… `src/renderer/src/components/SearchBar.vue`
  - æœç´¢æ ï¼ˆé˜²æŠ–æœç´¢ï¼‰
- âœ… `src/renderer/src/components/NetworkSearch.vue`
  - ç½‘ç»œæ£€ç´¢ç»„ä»¶
- âœ… `src/renderer/src/components/StatusFilter.vue`
  - çŠ¶æ€ç­›é€‰ç»„ä»¶ï¼ˆå·²åºŸå¼ƒï¼ŒåŠŸèƒ½é›†æˆåˆ° StatusStatsï¼‰
- âœ… `src/renderer/src/components/StatusStats.vue`
  - çŠ¶æ€ç»Ÿè®¡å±•ç¤ºç»„ä»¶
- âœ… `src/renderer/src/components/DisplayModeToggle.vue`
  - è§†å›¾åˆ‡æ¢ç»„ä»¶
- âœ… `src/renderer/src/components/stats/BaseChart.vue`
  - å›¾è¡¨åŸºç±»ç»„ä»¶ï¼ˆECharts å°è£…ï¼‰

### 9. æ ¸å¿ƒé¡µé¢åŠŸèƒ½
- âœ… `src/renderer/src/views/Home.vue`
  - ä¹¦ç±åˆ—è¡¨ï¼ˆç½‘æ ¼/åˆ—è¡¨è§†å›¾ï¼‰
  - æœç´¢ä¸ç­›é€‰
  - çŠ¶æ€ç»Ÿè®¡å±•ç¤º
  - æ‰¹é‡æ“ä½œï¼ˆé€‰æ‹©ã€åˆ é™¤ã€çŠ¶æ€æ›´æ–°ï¼‰
- âœ… `src/renderer/src/views/BookDetail.vue`
  - ä¹¦ç±è¯¦æƒ…å±•ç¤º
  - æ–‡æ¡£ç®¡ç†ï¼ˆä¸Šä¼ ã€åˆ—è¡¨ã€æ‰“å¼€ã€åˆ é™¤ã€å­—æ•°ç»Ÿè®¡ï¼‰
  - å­—æ•°æ¥æºé€‰æ‹©ï¼ˆæ‰‹åŠ¨è¾“å…¥/ç½‘ç»œæ£€ç´¢/æ–‡æ¡£ç»Ÿè®¡ï¼‰
  - ç¼–è¾‘ä¸åˆ é™¤
- âœ… `src/renderer/src/views/AddBook.vue`
  - ç½‘ç»œæ£€ç´¢æ·»åŠ ï¼ˆTab 1ï¼‰
  - æ‰‹åŠ¨å½•å…¥æ·»åŠ ï¼ˆTab 2ï¼‰
- âœ… `src/renderer/src/views/Statistics.vue`
  - æ€»ä½“ç»Ÿè®¡ï¼ˆ6ä¸ªæ ¸å¿ƒæŒ‡æ ‡ï¼‰
  - æ•°æ®å¯è§†åŒ–ï¼ˆ5ä¸ªå›¾è¡¨ï¼‰
  - å“åº”å¼å¸ƒå±€

### 10. ä¾èµ–å®‰è£…

#### æ ¸å¿ƒä¾èµ–
- âœ… Vue 3.5.21
- âœ… Vue Router 4.6.3
- âœ… Pinia 3.0.4
- âœ… Element Plus 2.11.8
- âœ… better-sqlite3 12.4.6
- âœ… axios 1.13.2
- âœ… cheerio 1.1.2

#### æ–‡æ¡£è§£æåº“
- âœ… epub 1.3.0
- âœ… pdf-parse 2.4.5
- âœ… mammoth 1.11.0
- âœ… jschardet 3.1.4
- âœ… iconv-lite 0.7.0

#### å·¥å…·åº“
- âœ… dayjs 1.11.19
- âœ… lodash-es 4.17.21
- âœ… uuid 13.0.0
- âœ… echarts 6.0.0
- âœ… electron-log 5.4.3

#### å¼€å‘ä¾èµ–
- âœ… unplugin-auto-import 20.2.0
- âœ… unplugin-vue-components 30.0.0
- âœ… TypeScript 5.9.2
- âœ… ESLint 9.36.0
- âœ… Prettier 3.6.2

### 5. åº”ç”¨å…¥å£

#### main.ts
- âœ… å¯¼å…¥äº† Element Plus æ ·å¼
- âœ… é›†æˆäº† Vue Router
- âœ… é›†æˆäº† Pinia
- âœ… åº”ç”¨å·²æ­£ç¡®æŒ‚è½½

#### App.vue
- âœ… ä½¿ç”¨ RouterView æ¸²æŸ“è·¯ç”±ç»„ä»¶
- âœ… ç§»é™¤äº†æ¨¡æ¿çš„ç¤ºä¾‹ä»£ç 

---

## ğŸ“‹ é¡¹ç›®ç»“æ„æ€»è§ˆ

```
book-store/
â”œâ”€â”€ electron.vite.config.ts    âœ… å·²é…ç½® Element Plus
â”œâ”€â”€ package.json               âœ… å·²æ›´æ–°é¡¹ç›®åç§°
â”œâ”€â”€ tsconfig.json              âœ… å·²é…ç½®
â”œâ”€â”€ eslint.config.mjs          âœ… å·²é…ç½®
â”œâ”€â”€ .prettierrc.yaml           âœ… å·²é…ç½®
â”œâ”€â”€ .gitignore                 âœ… å·²é…ç½®
â”‚
â”œâ”€â”€ database/
â”‚   â””â”€â”€ schema.sql             âœ… æ•°æ®åº“ç»“æ„å·²å®šä¹‰
â”‚
â”œâ”€â”€ docs/                       âœ… æ–‡æ¡£é½å…¨
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/                  âœ… Electron ä¸»è¿›ç¨‹
â”‚   â”‚   â”œâ”€â”€ index.ts           âœ… ä¸»è¿›ç¨‹å…¥å£ï¼ˆçª—å£ç®¡ç†ã€æ•°æ®åº“åˆå§‹åŒ–ï¼‰
â”‚   â”‚   â”œâ”€â”€ ipc/               âœ… IPC å¤„ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ bookHandler.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ documentHandler.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ searchHandler.ts
â”‚   â”‚   â”‚   â””â”€â”€ statsHandler.ts
â”‚   â”‚   â””â”€â”€ services/          âœ… ä¸»è¿›ç¨‹æœåŠ¡
â”‚   â”‚       â”œâ”€â”€ database.ts    âœ… æ•°æ®åº“æœåŠ¡ï¼ˆå®Œæ•´ CRUDï¼‰
â”‚   â”‚       â”œâ”€â”€ spider.ts      âœ… çˆ¬è™«æœåŠ¡ï¼ˆyoushu.meï¼‰
â”‚   â”‚       â”œâ”€â”€ fileManager.ts âœ… æ–‡ä»¶ç®¡ç†æœåŠ¡
â”‚   â”‚       â”œâ”€â”€ wordCounter.ts âœ… å­—æ•°ç»Ÿè®¡æœåŠ¡
â”‚   â”‚       â””â”€â”€ cover.ts       âœ… å°é¢ä¸‹è½½æœåŠ¡
â”‚   â”œâ”€â”€ preload/               âœ… é¢„åŠ è½½è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ index.ts           âœ… API æš´éœ²
â”‚   â”‚   â””â”€â”€ index.d.ts         âœ… TypeScript ç±»å‹å£°æ˜
â”‚   â””â”€â”€ renderer/              âœ… Vue æ¸²æŸ“è¿›ç¨‹
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ main.ts        âœ… åº”ç”¨å…¥å£
â”‚           â”œâ”€â”€ App.vue        âœ… æ ¹ç»„ä»¶ï¼ˆå¸ƒå±€ã€ä¾§è¾¹æ ã€ä¸»é¢˜ï¼‰
â”‚           â”œâ”€â”€ router/        âœ… è·¯ç”±é…ç½®
â”‚           â”œâ”€â”€ stores/        âœ… çŠ¶æ€ç®¡ç†ï¼ˆbookã€uiã€statsã€displayModeï¼‰
â”‚           â”œâ”€â”€ api/           âœ… API æ¥å£å±‚ï¼ˆbookã€documentã€searchã€statsï¼‰
â”‚           â”œâ”€â”€ types/         âœ… ç±»å‹å®šä¹‰ï¼ˆå®Œæ•´ï¼‰
â”‚           â”œâ”€â”€ views/         âœ… é¡µé¢ç»„ä»¶ï¼ˆHomeã€BookDetailã€AddBookã€Statisticsã€Settingsï¼‰
â”‚           â”œâ”€â”€ components/    âœ… é€šç”¨ç»„ä»¶ï¼ˆBookCardã€BookFormã€SearchBarã€StatusStats ç­‰ï¼‰
â”‚           â”œâ”€â”€ utils/         âœ… å·¥å…·å‡½æ•°ï¼ˆformat.tsï¼‰
â”‚           â””â”€â”€ constants/     âœ… å¸¸é‡å®šä¹‰
â”‚
â””â”€â”€ public/                     âœ… é™æ€èµ„æºç›®å½•
```

---

## âœ… é˜¶æ®µå®Œæˆæƒ…å†µæ€»ç»“

### é˜¶æ®µä¸€ï¼šé¡¹ç›®åˆå§‹åŒ–ä¸ç¯å¢ƒæ­å»º âœ… å·²å®Œæˆ
- é¡¹ç›®æ¡†æ¶æ­å»º
- ä¾èµ–å®‰è£…
- åŸºç¡€ç›®å½•ç»“æ„
- TypeScript é…ç½®
- ESLint/Prettier é…ç½®

### é˜¶æ®µäºŒï¼šæ•°æ®åº“è®¾è®¡ä¸æœåŠ¡å®ç° âœ… å·²å®Œæˆ
- æ•°æ®åº“ç»“æ„è®¾è®¡ï¼ˆschema.sqlï¼‰
- æ•°æ®åº“æœåŠ¡å®ç°ï¼ˆå®Œæ•´çš„ CRUDï¼‰
- TypeScript ç±»å‹å®šä¹‰

### é˜¶æ®µä¸‰ï¼šElectron ä¸»è¿›ç¨‹å®ç° âœ… å·²å®Œæˆ
- ä¸»è¿›ç¨‹å…¥å£ä¼˜åŒ–
- Preload è„šæœ¬æ›´æ–°
- IPC å¤„ç†å™¨å®ç°ï¼ˆbookã€documentã€searchã€statsï¼‰

### é˜¶æ®µå››ï¼šVue å‰ç«¯åŸºç¡€æ¡†æ¶ âœ… å·²å®Œæˆ
- è·¯ç”±é…ç½®
- çŠ¶æ€ç®¡ç†ï¼ˆPinia Storesï¼‰
- API å±‚å®ç°

### é˜¶æ®µäº”ï¼šæ ¸å¿ƒé¡µé¢å®ç°ï¼ˆMVPï¼‰ âœ… å·²å®Œæˆ
- ä¸»å¸ƒå±€ï¼ˆApp.vueï¼‰
- ä¹¦ç±åˆ—è¡¨é¡µé¢ï¼ˆHome.vueï¼‰
- ä¹¦ç±å¡ç‰‡ç»„ä»¶ï¼ˆBookCard.vueï¼‰
- æ·»åŠ ä¹¦ç±é¡µé¢ï¼ˆAddBook.vue + BookForm.vueï¼‰
- ä¹¦ç±è¯¦æƒ…é¡µé¢ï¼ˆBookDetail.vueï¼‰
- æœç´¢åŠŸèƒ½ï¼ˆSearchBar.vueï¼‰

### é˜¶æ®µå…­ï¼šæ£€ç´¢ä¸çˆ¬è™«åŠŸèƒ½ âœ… å·²å®Œæˆ
- çˆ¬è™«æœåŠ¡å®ç°ï¼ˆspider.tsï¼‰
- å°é¢ä¸‹è½½åŠŸèƒ½ï¼ˆcover.tsï¼‰
- å‰ç«¯é›†æˆï¼ˆNetworkSearch.vueï¼‰

### é˜¶æ®µä¸ƒï¼šæ–‡æ¡£ç®¡ç†åŠŸèƒ½ âœ… å·²å®Œæˆ
- æ–‡ä»¶ç®¡ç†æœåŠ¡ï¼ˆfileManager.tsï¼‰
- å­—æ•°ç»Ÿè®¡æœåŠ¡ï¼ˆwordCounter.tsï¼‰
- æ–‡æ¡£ä¸Šä¼ åŠŸèƒ½ï¼ˆé›†æˆåˆ° BookDetail.vueï¼‰
- å­—æ•°æ•°æ®æºé€‰æ‹©åŠŸèƒ½

### é˜¶æ®µå…«ï¼šé˜…è¯»è¿›åº¦ç®¡ç† âœ… éƒ¨åˆ†å®Œæˆ
- âœ… é˜…è¯»çŠ¶æ€ç®¡ç†ï¼ˆ5ç§çŠ¶æ€ï¼‰
- âœ… çŠ¶æ€ç»Ÿè®¡å±•ç¤ºï¼ˆStatusStats.vueï¼‰
- âœ… å¿«æ·çŠ¶æ€åˆ‡æ¢ï¼ˆBookCard.vueï¼‰
- âœ… æ‰¹é‡çŠ¶æ€æ›´æ–°
- â¸ï¸ é˜…è¯»è¿›åº¦è·Ÿè¸ªï¼ˆå·²åºŸå¼ƒï¼Œä¸“æ³¨äºçŠ¶æ€ç®¡ç†ï¼‰

### é˜¶æ®µä¹ï¼šè¯„åˆ†ä¸ç¬”è®°åŠŸèƒ½ â¸ï¸ å·²åºŸå¼ƒ
- æ•´ä¸ªé˜¶æ®µå·²åºŸå¼ƒï¼Œç®€åŒ–é¡¹ç›®èŒƒå›´

### é˜¶æ®µåï¼šç»Ÿè®¡åˆ†æåŠŸèƒ½ âœ… å·²å®Œæˆ
- ç»Ÿè®¡é¡µé¢ï¼ˆStatistics.vueï¼‰
- æ€»ä½“ç»Ÿè®¡ï¼ˆ6ä¸ªæ ¸å¿ƒæŒ‡æ ‡ï¼‰
- å›¾è¡¨å±•ç¤ºï¼ˆ5ä¸ªå›¾è¡¨ï¼šé¥¼å›¾ã€æŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ï¼‰
- ç»Ÿè®¡ API å’Œ IPC å¤„ç†å™¨
- â¸ï¸ æ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆå·²åºŸå¼ƒï¼‰

### é˜¶æ®µåä¸€ï¼šé«˜çº§åŠŸèƒ½ âœ… å·²å®Œæˆ
- **æ ‡ç­¾ç³»ç»Ÿ**
  - æ ‡ç­¾ç®¡ç†é¡µé¢ï¼ˆTagManagement.vueï¼‰
  - æ ‡ç­¾CRUDæ“ä½œï¼ˆåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ï¼‰
  - æ ‡ç­¾é¢œè‰²ç®¡ç†ï¼ˆ8ç§é»˜è®¤é¢œè‰²å¯é€‰ï¼‰
  - æ ‡ç­¾ä½¿ç”¨ç»Ÿè®¡ï¼ˆæ˜¾ç¤ºä½¿ç”¨è¯¥æ ‡ç­¾çš„ä¹¦ç±æ•°é‡ï¼‰
  - ä¸ºä¹¦ç±æ‰“æ ‡ç­¾ï¼ˆBookDetailã€AddBookï¼‰
  - æ ‡ç­¾å±•ç¤ºï¼ˆBookCardã€TagListç»„ä»¶ï¼‰
  - æ ‡ç­¾é€‰æ‹©å™¨ï¼ˆTagSelectorç»„ä»¶ï¼Œæ”¯æŒåˆ›å»ºæ–°æ ‡ç­¾ï¼‰
- **ç­›é€‰ä¸æ’åº**
  - å¤šæ¡ä»¶ç»„åˆç­›é€‰ï¼ˆçŠ¶æ€ã€ç±»å‹ã€å¹³å°ã€æ ‡ç­¾ï¼‰
  - ç­›é€‰å·¥å…·æ ç»„ä»¶ï¼ˆFilterBar.vueï¼‰
  - æ’åºåŠŸèƒ½ï¼ˆå­—æ•°ã€æ·»åŠ æ—¶é—´ã€è¯„åˆ†ã€ä¹¦åã€ä½œè€…ï¼‰
  - å‡åº/é™åºåˆ‡æ¢
  - ç›¸åŒä½œè€…ç›¸é‚»æ’åºï¼ˆç»„å†…æŒ‰ä¹¦åæ’åºï¼‰
- **æ‰¹é‡æ“ä½œ**
  - æ‰¹é‡åˆ é™¤ï¼ˆå¸¦ç¡®è®¤å¯¹è¯æ¡†ï¼‰
  - æ‰¹é‡æ·»åŠ æ ‡ç­¾ï¼ˆæ”¯æŒå¤šæ ‡ç­¾é€‰æ‹©ï¼‰
  - æ‰¹é‡ä¿®æ”¹çŠ¶æ€ï¼ˆå·²æœ‰åŠŸèƒ½ï¼‰

---

## âœ… éªŒè¯æ¸…å•

- [x] é¡¹ç›®å¯ä»¥æ­£å¸¸å¯åŠ¨ï¼ˆ`pnpm dev`ï¼‰
- [x] æ²¡æœ‰ TypeScript ç¼–è¯‘é”™è¯¯
- [x] æ²¡æœ‰ ESLint é”™è¯¯
- [x] è·¯ç”±å¯ä»¥æ­£å¸¸è®¿é—®
- [x] Element Plus ç»„ä»¶å¯ä»¥æ­£å¸¸ä½¿ç”¨
- [x] ç›®å½•ç»“æ„ç¬¦åˆè®¾è®¡æ–‡æ¡£

---

## ğŸ‰ æ€»ç»“

**é˜¶æ®µä¸€è‡³é˜¶æ®µåçš„æ ¸å¿ƒåŠŸèƒ½å¼€å‘å·²å®Œæˆï¼**

é¡¹ç›®ç°åœ¨å·²ç»å…·å¤‡äº†ï¼š
- âœ… å®Œæ•´çš„é¡¹ç›®æ¶æ„ï¼ˆä¸»è¿›ç¨‹ + æ¸²æŸ“è¿›ç¨‹ï¼‰
- âœ… å®Œæ•´çš„æ•°æ®åº“æœåŠ¡ï¼ˆSQLite CRUDï¼‰
- âœ… å®Œæ•´çš„ IPC é€šä¿¡æœºåˆ¶
- âœ… å®Œæ•´çš„ API å±‚å’ŒçŠ¶æ€ç®¡ç†
- âœ… æ ¸å¿ƒé¡µé¢åŠŸèƒ½ï¼ˆä¹¦ç±ç®¡ç†ã€æ–‡æ¡£ç®¡ç†ã€ç»Ÿè®¡åˆ†æï¼‰
- âœ… ç½‘ç»œæ£€ç´¢åŠŸèƒ½ï¼ˆyoushu.me çˆ¬è™«ï¼‰
- âœ… æ–‡æ¡£ä¸Šä¼ å’Œå­—æ•°ç»Ÿè®¡
- âœ… é˜…è¯»çŠ¶æ€ç®¡ç†
- âœ… æ•°æ®å¯è§†åŒ–ï¼ˆECharts å›¾è¡¨ï¼‰

**å½“å‰çŠ¶æ€ï¼š**
- ğŸ¯ æ ¸å¿ƒåŠŸèƒ½ï¼ˆMVPï¼‰å·²å®Œæˆ
- ğŸ“Š ç»Ÿè®¡åˆ†æåŠŸèƒ½å·²å®ç°
- ğŸ“ æ–‡æ¡£ç®¡ç†åŠŸèƒ½å®Œæ•´
- ğŸ” ç½‘ç»œæ£€ç´¢åŠŸèƒ½å¯ç”¨
- ğŸ¨ UI ç»„ä»¶åŸºæœ¬å®Œå–„

**ä¸‹ä¸€æ­¥å¯ä»¥è€ƒè™‘ï¼š**
- æ•°æ®å¤‡ä»½ä¸æ¢å¤ï¼ˆé˜¶æ®µåäºŒï¼‰
- UI ä¼˜åŒ–ä¸ä¸»é¢˜ï¼ˆé˜¶æ®µåä¸‰ï¼‰
- æ€§èƒ½ä¼˜åŒ–ï¼ˆé˜¶æ®µåå››ï¼‰
- æµ‹è¯•ä¸æ–‡æ¡£ï¼ˆé˜¶æ®µåäº”ï¼‰
- æ‰“åŒ…ä¸å‘å¸ƒï¼ˆé˜¶æ®µåå…­ï¼‰

**é¡¹ç›®å·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼** ğŸš€

## âœ… é˜¶æ®µåä¸€å®Œæˆè¯¦æƒ…

### æ ‡ç­¾ç³»ç»ŸåŠŸèƒ½

#### åç«¯å®ç°
- âœ… æ ‡ç­¾IPCå¤„ç†å™¨ï¼ˆtagHandler.tsï¼‰- 10ä¸ªæ¥å£
  - tag:create - åˆ›å»ºæ ‡ç­¾
  - tag:update - æ›´æ–°æ ‡ç­¾
  - tag:delete - åˆ é™¤æ ‡ç­¾
  - tag:getAll - è·å–æ‰€æœ‰æ ‡ç­¾
  - tag:getById - æ ¹æ®IDè·å–æ ‡ç­¾
  - tag:addToBook - ä¸ºä¹¦ç±æ·»åŠ æ ‡ç­¾
  - tag:removeFromBook - ç§»é™¤ä¹¦ç±æ ‡ç­¾
  - tag:getByBookId - è·å–ä¹¦ç±çš„æ‰€æœ‰æ ‡ç­¾
  - tag:batchAddToBooks - æ‰¹é‡ä¸ºä¹¦ç±æ·»åŠ æ ‡ç­¾
  - tag:getUsageCount - è·å–æ ‡ç­¾ä½¿ç”¨ç»Ÿè®¡
- âœ… æ•°æ®åº“æœåŠ¡æ‰©å±•
  - ä¹¦ç±æŸ¥è¯¢æ—¶è‡ªåŠ¨å…³è”æ ‡ç­¾ä¿¡æ¯
  - æ‰¹é‡æ·»åŠ æ ‡ç­¾æ–¹æ³•
  - æ ‡ç­¾ä½¿ç”¨ç»Ÿè®¡æ–¹æ³•
- âœ… Preloadè„šæœ¬æ›´æ–°
  - æš´éœ²æ‰€æœ‰æ ‡ç­¾API
  - å®Œæ•´çš„TypeScriptç±»å‹å£°æ˜

#### å‰ç«¯å®ç°
- âœ… æ ‡ç­¾APIå±‚ï¼ˆapi/tag.tsï¼‰- 9ä¸ªæ–¹æ³•
- âœ… æ ‡ç­¾Storeï¼ˆstores/tag.tsï¼‰
  - state: tags, loading
  - actions: fetchTags, createTag, updateTag, deleteTag, getTagById
- âœ… UIç»„ä»¶
  - TagList.vue - æ ‡ç­¾åˆ—è¡¨å±•ç¤ºï¼ˆæ”¯æŒç‚¹å‡»ç­›é€‰ï¼‰
  - TagSelector.vue - æ ‡ç­¾é€‰æ‹©å™¨ï¼ˆæ”¯æŒåˆ›å»ºæ–°æ ‡ç­¾ï¼‰
  - TagManagement.vue - æ ‡ç­¾ç®¡ç†é¡µé¢ï¼ˆå®Œæ•´CRUDï¼‰
- âœ… é›†æˆåˆ°ä¹¦ç±é¡µé¢
  - BookCard - æ˜¾ç¤ºä¹¦ç±æ ‡ç­¾
  - BookDetail - æ ‡ç­¾ç®¡ç†åŒºåŸŸ
  - AddBook - åˆ›å»ºæ—¶æ·»åŠ æ ‡ç­¾
- âœ… è·¯ç”±å’Œå¯¼èˆª
  - æ·»åŠ  `/tags` è·¯ç”±
  - ä¾§è¾¹æ æ·»åŠ "æ ‡ç­¾ç®¡ç†"å…¥å£

### ç­›é€‰ä¸æ’åºåŠŸèƒ½

#### ç­›é€‰åŠŸèƒ½
- âœ… å¤šæ¡ä»¶ç»„åˆç­›é€‰ï¼ˆANDé€»è¾‘ï¼‰
  - æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆå·²æœ‰ï¼‰
  - æŒ‰ç±»å‹ç­›é€‰ï¼ˆæ–°å¢ï¼‰
  - æŒ‰å¹³å°ç­›é€‰ï¼ˆæ–°å¢ï¼‰
  - æŒ‰æ ‡ç­¾ç­›é€‰ï¼ˆæ–°å¢ï¼‰
  - å…³é”®è¯æœç´¢ï¼ˆå·²æœ‰ï¼‰
- âœ… ç­›é€‰å·¥å…·æ ç»„ä»¶ï¼ˆFilterBar.vueï¼‰
  - ç±»å‹ä¸‹æ‹‰æ¡†ï¼ˆåŠ¨æ€è·å–å¯ç”¨ç±»å‹ï¼‰
  - å¹³å°ä¸‹æ‹‰æ¡†ï¼ˆåŠ¨æ€è·å–å¯ç”¨å¹³å°ï¼‰
  - æ ‡ç­¾å¤šé€‰ï¼ˆæ”¯æŒç‚¹å‡»æ ‡ç­¾å¿«é€Ÿç­›é€‰ï¼‰
  - æ¸…ç©ºç­›é€‰æŒ‰é’®

#### æ’åºåŠŸèƒ½
- âœ… æ”¯æŒ5ç§æ’åºæ–¹å¼
  - æŒ‰å­—æ•°æ’åº
  - æŒ‰æ·»åŠ æ—¶é—´æ’åº
  - æŒ‰è¯„åˆ†æ’åº
  - æŒ‰ä¹¦åæ’åº
  - æŒ‰ä½œè€…æ’åºï¼ˆç›¸åŒä½œè€…ç›¸é‚»ï¼Œç»„å†…æŒ‰ä¹¦åï¼‰
- âœ… å‡åº/é™åºåˆ‡æ¢
- âœ… æ¬¡è¦æ’åºï¼ˆç›¸åŒä¸»æ’åºå€¼æ—¶æŒ‰ä¹¦åæ’åºï¼‰

### æ‰¹é‡æ“ä½œåŠŸèƒ½

#### æ‰¹é‡åˆ é™¤
- âœ… æ•°æ®åº“æœåŠ¡ï¼šdeleteBooks(ids: number[])
- âœ… IPCå¤„ç†å™¨ï¼šbook:deleteBatch
- âœ… APIå±‚ï¼šdeleteBatch(ids: number[])
- âœ… Storeï¼šbatchDeleteBooks(bookIds: number[])
- âœ… UIï¼šæ‰¹é‡åˆ é™¤æŒ‰é’® + ç¡®è®¤å¯¹è¯æ¡†

#### æ‰¹é‡æ·»åŠ æ ‡ç­¾
- âœ… æ•°æ®åº“æœåŠ¡ï¼šbatchAddTagToBooks(bookIds, tagId)
- âœ… IPCå¤„ç†å™¨ï¼štag:batchAddToBooks
- âœ… APIå±‚ï¼šbatchAddTagToBooks(bookIds, tagId)
- âœ… Storeï¼šbatchAddTags(bookIds, tagIds)
- âœ… UIï¼šæ‰¹é‡æ·»åŠ æ ‡ç­¾æŒ‰é’® + æ ‡ç­¾é€‰æ‹©å¯¹è¯æ¡†

### æŠ€æœ¯äº®ç‚¹

1. **å¤šæ¡ä»¶ç»„åˆç­›é€‰**ï¼šæ”¯æŒå…³é”®è¯ã€çŠ¶æ€ã€ç±»å‹ã€å¹³å°ã€æ ‡ç­¾çš„ç»„åˆç­›é€‰ï¼ˆANDé€»è¾‘ï¼‰
2. **çµæ´»çš„æ’åº**ï¼šæ”¯æŒæŒ‰å¤šä¸ªå­—æ®µæ’åºï¼Œå¯åˆ‡æ¢å‡åº/é™åºï¼Œç›¸åŒå€¼æ—¶æœ‰æ¬¡è¦æ’åº
3. **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒæ‰¹é‡ä¿®æ”¹çŠ¶æ€ã€æ‰¹é‡åˆ é™¤ã€æ‰¹é‡æ·»åŠ æ ‡ç­¾ï¼Œæ‰€æœ‰æ“ä½œéƒ½æœ‰ç¡®è®¤å¯¹è¯æ¡†
4. **æ ‡ç­¾ç³»ç»Ÿ**ï¼šæ”¯æŒæ ‡ç­¾åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€é¢œè‰²ç®¡ç†ï¼Œä»¥åŠæ ‡ç­¾ä½¿ç”¨ç»Ÿè®¡
5. **ç”¨æˆ·ä½“éªŒ**ï¼šæ‰€æœ‰æ“ä½œéƒ½æœ‰ç¡®è®¤å¯¹è¯æ¡†å’ŒæˆåŠŸ/å¤±è´¥æç¤º

### æ–‡ä»¶æ¸…å•

#### æ–°å¢æ–‡ä»¶
- `src/main/ipc/tagHandler.ts` - æ ‡ç­¾IPCå¤„ç†å™¨
- `src/renderer/src/api/tag.ts` - æ ‡ç­¾APIå±‚
- `src/renderer/src/stores/tag.ts` - æ ‡ç­¾Store
- `src/renderer/src/components/TagList.vue` - æ ‡ç­¾åˆ—è¡¨ç»„ä»¶
- `src/renderer/src/components/TagSelector.vue` - æ ‡ç­¾é€‰æ‹©å™¨ç»„ä»¶
- `src/renderer/src/components/FilterBar.vue` - ç­›é€‰å·¥å…·æ ç»„ä»¶
- `src/renderer/src/views/TagManagement.vue` - æ ‡ç­¾ç®¡ç†é¡µé¢

#### ä¿®æ”¹æ–‡ä»¶
- `src/main/services/database.ts` - æ‰©å±•æ ‡ç­¾å…³è”æŸ¥è¯¢å’Œæ‰¹é‡æ“ä½œ
- `src/main/ipc/bookHandler.ts` - æ·»åŠ æ‰¹é‡åˆ é™¤å¤„ç†å™¨
- `src/preload/index.ts` - æš´éœ²æ ‡ç­¾API
- `src/preload/index.d.ts` - æ›´æ–°ç±»å‹å£°æ˜
- `src/main/index.ts` - æ³¨å†Œæ ‡ç­¾å¤„ç†å™¨
- `src/renderer/src/types/book.ts` - æ·»åŠ tagså­—æ®µ
- `src/renderer/src/stores/book.ts` - æ‰©å±•ç­›é€‰å’Œæ’åºé€»è¾‘
- `src/renderer/src/api/book.ts` - æ·»åŠ æ‰¹é‡åˆ é™¤API
- `src/renderer/src/constants/index.ts` - æ·»åŠ æ’åºé€‰é¡¹å’Œæ ‡ç­¾é¢œè‰²
- `src/renderer/src/components/BookCard.vue` - æ˜¾ç¤ºæ ‡ç­¾
- `src/renderer/src/views/BookDetail.vue` - æ ‡ç­¾ç®¡ç†
- `src/renderer/src/views/AddBook.vue` - åˆ›å»ºæ—¶æ·»åŠ æ ‡ç­¾
- `src/renderer/src/views/Home.vue` - é›†æˆç­›é€‰å’Œæ‰¹é‡æ“ä½œ
- `src/renderer/src/router/index.ts` - æ·»åŠ æ ‡ç­¾ç®¡ç†è·¯ç”±
- `src/renderer/src/App.vue` - æ·»åŠ æ ‡ç­¾ç®¡ç†å¯¼èˆª
- `database/schema.sql` - ç§»é™¤é»˜è®¤æ ‡ç­¾

---

## é˜¶æ®µåä¸‰ï¼šUIä¼˜åŒ–ä¸ä¸»é¢˜ âœ…

### ä¸»é¢˜ç³»ç»Ÿå®Œå–„

#### ä¸»é¢˜é€‰æ‹©å™¨ç»„ä»¶
- âœ… åˆ›å»º `src/renderer/src/components/ThemeSelector.vue`
  - æä¾›æ˜äº®/æš—é»‘/è·Ÿéšç³»ç»Ÿä¸‰ç§ä¸»é¢˜é€‰æ‹©
  - æ˜¾ç¤ºå½“å‰é€‰ä¸­çš„ä¸»é¢˜çŠ¶æ€
  - ç¾è§‚çš„UIè®¾è®¡å’Œäº¤äº’åé¦ˆ

#### è®¾ç½®é¡µé¢å®Œå–„
- âœ… å®Œå–„ `src/renderer/src/views/Settings.vue`
  - é›†æˆä¸»é¢˜é€‰æ‹©å™¨ç»„ä»¶
  - æ·»åŠ è§†å›¾æ¨¡å¼è®¾ç½®ï¼ˆç½‘æ ¼/åˆ—è¡¨ï¼‰
  - ä¼˜åŒ–é¡µé¢å¸ƒå±€å’Œæ ·å¼
  - å“åº”å¼è®¾è®¡

#### Element Plusæš—è‰²ä¸»é¢˜æ”¯æŒ
- âœ… åœ¨ `src/renderer/src/main.ts` ä¸­å¯¼å…¥æš—è‰²ä¸»é¢˜CSS
- âœ… åœ¨ `src/renderer/src/assets/base.css` ä¸­å®šä¹‰Element Plusæš—è‰²ä¸»é¢˜å˜é‡
- âœ… ç¡®ä¿Element Plusç»„ä»¶åœ¨æš—è‰²ä¸»é¢˜ä¸‹æ­£ç¡®æ˜¾ç¤º

### äº¤äº’ä¼˜åŒ–

#### ç»Ÿä¸€åŠ è½½åŠ¨ç”»
- âœ… åˆ›å»º `src/renderer/src/components/LoadingSpinner.vue`
  - æ”¯æŒå°/ä¸­/å¤§ä¸‰ç§å°ºå¯¸
  - æ”¯æŒå…¨å±é®ç½©æ¨¡å¼
  - æµç•…çš„æ—‹è½¬åŠ¨ç”»æ•ˆæœ
  - å¯é€‰çš„åŠ è½½æ–‡æœ¬æç¤º

#### éª¨æ¶å±ç»„ä»¶
- âœ… åˆ›å»º `src/renderer/src/components/SkeletonLoader.vue`
  - ä¹¦ç±å¡ç‰‡éª¨æ¶å±
  - åˆ—è¡¨é¡¹éª¨æ¶å±
  - æ–‡æœ¬éª¨æ¶å±ï¼ˆå¯é…ç½®è¡Œæ•°ï¼‰
  - æµç•…çš„åŠ è½½åŠ¨ç”»

#### è¿‡æ¸¡åŠ¨ç”»
- âœ… è·¯ç”±è¿‡æ¸¡åŠ¨ç”»
  - åœ¨ `App.vue` ä¸­ä¸ºRouterViewæ·»åŠ æ·¡å…¥æ·¡å‡ºè¿‡æ¸¡
  - æ”¯æŒå‡å°‘åŠ¨ç”»åå¥½è®¾ç½®
  - æµç•…çš„é¡µé¢åˆ‡æ¢ä½“éªŒ
- âœ… åˆ—è¡¨é¡¹è¿‡æ¸¡åŠ¨ç”»
  - åœ¨ `Home.vue` ä¸­ä½¿ç”¨TransitionGroup
  - åˆ—è¡¨é¡¹æ·»åŠ /åˆ é™¤åŠ¨ç”»
  - ä¼˜åŒ–åŠ¨ç”»æ€§èƒ½

### å¸ƒå±€ä¿å­˜åŠŸèƒ½

#### çª—å£çŠ¶æ€ç®¡ç†
- âœ… åˆ›å»º `src/main/services/windowState.ts`
  - ä¿å­˜çª—å£å¤§å°ã€ä½ç½®å’Œæœ€å¤§åŒ–çŠ¶æ€
  - ä»localStorageæ¢å¤çª—å£çŠ¶æ€
  - ä½¿ç”¨é˜²æŠ–æœºåˆ¶ä¼˜åŒ–ä¿å­˜æ€§èƒ½ï¼ˆ500msï¼‰
  - ç¡®ä¿çª—å£ä½ç½®åœ¨å±å¹•èŒƒå›´å†…
  - æ”¯æŒå¤šæ˜¾ç¤ºå™¨ç¯å¢ƒ

#### æ˜¾ç¤ºæ¨¡å¼æŒä¹…åŒ–
- âœ… ä¿®å¤ `src/renderer/src/stores/displayMode.ts`
  - æ·»åŠ localStorageä¿å­˜é€»è¾‘
  - æ·»åŠ å¯åŠ¨æ—¶åŠ è½½é€»è¾‘
  - ç¡®ä¿ç®€çº¦/ç»å…¸æ¨¡å¼é€‰æ‹©åœ¨é‡å¯åä¿æŒ

### æŠ€æœ¯äº®ç‚¹

1. **å®Œæ•´çš„ä¸»é¢˜ç³»ç»Ÿ**ï¼šæ”¯æŒæ˜äº®ã€æš—é»‘å’Œè·Ÿéšç³»ç»Ÿä¸‰ç§æ¨¡å¼ï¼Œæ‰€æœ‰ç»„ä»¶éƒ½æ­£ç¡®é€‚é…
2. **ç»Ÿä¸€çš„åŠ è½½ä½“éªŒ**ï¼šä½¿ç”¨éª¨æ¶å±å’ŒåŠ è½½åŠ¨ç”»æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
3. **æµç•…çš„è¿‡æ¸¡åŠ¨ç”»**ï¼šè·¯ç”±åˆ‡æ¢å’Œåˆ—è¡¨æ“ä½œéƒ½æœ‰å¹³æ»‘çš„åŠ¨ç”»æ•ˆæœ
4. **æ™ºèƒ½å¸ƒå±€ä¿å­˜**ï¼šçª—å£çŠ¶æ€è‡ªåŠ¨ä¿å­˜å’Œæ¢å¤ï¼Œç”¨æˆ·æ— éœ€æ¯æ¬¡é‡æ–°è°ƒæ•´
5. **å®Œå–„çš„è®¾ç½®é¡µé¢**ï¼šé›†ä¸­ç®¡ç†æ‰€æœ‰UIç›¸å…³è®¾ç½®

### æ–‡ä»¶æ¸…å•

#### æ–°å¢æ–‡ä»¶
- `src/renderer/src/components/ThemeSelector.vue` - ä¸»é¢˜é€‰æ‹©å™¨ç»„ä»¶
- `src/renderer/src/components/LoadingSpinner.vue` - ç»Ÿä¸€åŠ è½½åŠ¨ç”»ç»„ä»¶
- `src/renderer/src/components/SkeletonLoader.vue` - éª¨æ¶å±ç»„ä»¶
- `src/main/services/windowState.ts` - çª—å£çŠ¶æ€ç®¡ç†æœåŠ¡

#### ä¿®æ”¹æ–‡ä»¶
- `src/renderer/src/views/Settings.vue` - å®Œå–„è®¾ç½®é¡µé¢ï¼Œé›†æˆä¸»é¢˜é€‰æ‹©å™¨
- `src/renderer/src/main.ts` - å¯¼å…¥Element Plusæš—è‰²ä¸»é¢˜CSSï¼Œåˆå§‹åŒ–ä¸»é¢˜
- `src/renderer/src/assets/base.css` - æ·»åŠ Element Plusæš—è‰²ä¸»é¢˜å˜é‡
- `src/renderer/src/App.vue` - æ·»åŠ è·¯ç”±è¿‡æ¸¡åŠ¨ç”»
- `src/renderer/src/views/Home.vue` - ä½¿ç”¨éª¨æ¶å±å’Œåˆ—è¡¨è¿‡æ¸¡åŠ¨ç”»
- `src/renderer/src/views/TagManagement.vue` - ä½¿ç”¨éª¨æ¶å±
- `src/main/index.ts` - é›†æˆçª—å£çŠ¶æ€ç®¡ç†æœåŠ¡
- `src/renderer/src/stores/displayMode.ts` - æ·»åŠ æŒä¹…åŒ–é€»è¾‘

---

## é˜¶æ®µåå››ï¼šæ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–

#### N+1æŸ¥è¯¢ä¼˜åŒ–
- âœ… åˆ›å»º `getTagsByBookIds()` æ‰¹é‡è·å–æ ‡ç­¾æ–¹æ³•
- âœ… ä¿®æ”¹ `getAllBooks()` å’Œ `searchBooks()` ä½¿ç”¨æ‰¹é‡æŸ¥è¯¢ï¼Œé¿å…å¾ªç¯æŸ¥è¯¢
- âœ… æ˜¾è‘—å‡å°‘æ•°æ®åº“æŸ¥è¯¢æ¬¡æ•°ï¼Œæå‡æŸ¥è¯¢æ€§èƒ½

#### ç´¢å¼•ä¼˜åŒ–
- âœ… åœ¨ `schema.sql` ä¸­æ·»åŠ å¤åˆç´¢å¼•ï¼š
  - `idx_books_category_platform` - ä¼˜åŒ–ç±»å‹å’Œå¹³å°ç­›é€‰æŸ¥è¯¢
  - `idx_books_title_author` - ä¼˜åŒ–æœç´¢æŸ¥è¯¢
  - `idx_book_tags_book_id`ã€`idx_book_tags_tag_id`ã€`idx_book_tags_composite` - ä¼˜åŒ–æ ‡ç­¾å…³è”æŸ¥è¯¢

#### åˆ†é¡µæŸ¥è¯¢
- âœ… å®ç° `getBooksPaginated()` æ–¹æ³•
  - æ”¯æŒæŒ‰çŠ¶æ€ã€ç±»å‹ã€å¹³å°ã€æ ‡ç­¾ç­›é€‰
  - æ”¯æŒå¤šç§æ’åºæ–¹å¼ï¼ˆå­—æ•°ã€æ—¶é—´ã€è¯„åˆ†ã€ä¹¦åã€ä½œè€…ï¼‰
  - è¿”å›åˆ†é¡µç»“æœï¼ˆitems, total, page, pageSize, totalPagesï¼‰
- âœ… æ‰©å±•IPCå¤„ç†å™¨ `book:getPaginated` æ¥å£
- âœ… æ‰©å±•APIå±‚ `getBooksPaginated()` æ–¹æ³•
- âœ… æ·»åŠ ç±»å‹å®šä¹‰ `BookFilters`ã€`BookSort`ã€`PaginatedResult`

#### æŸ¥è¯¢ç¼“å­˜
- âœ… åˆ›å»º `src/main/services/cache.ts` ç¼“å­˜æœåŠ¡
  - LRUç­–ç•¥ï¼Œæœ€å¤§ç¼“å­˜100æ¡è®°å½•
  - ç¼“å­˜æœ‰æ•ˆæœŸ5åˆ†é’Ÿ
  - è‡ªåŠ¨æ¸…ç†è¿‡æœŸç¼“å­˜ï¼ˆæ¯10åˆ†é’Ÿï¼‰
- âœ… åœ¨ `getAllBooks()` ä¸­é›†æˆç¼“å­˜æœºåˆ¶
- âœ… åˆ›å»º/æ›´æ–°/åˆ é™¤ä¹¦ç±æ—¶è‡ªåŠ¨æ¸…é™¤ç›¸å…³ç¼“å­˜

### å‰ç«¯æ€§èƒ½ä¼˜åŒ–

#### å‡å°‘é‡æ¸²æŸ“
- âœ… ä½¿ç”¨ `shallowRef` ä¼˜åŒ– books æ•°ç»„å¼•ç”¨ï¼Œå‡å°‘æ·±åº¦å“åº”å¼å¼€é”€
- âœ… ä¸º `filteredBooks` è®¡ç®—å±æ€§æ·»åŠ ç¼“å­˜æœºåˆ¶
  - ä½¿ç”¨ç¼“å­˜é”®é¿å…é‡å¤è®¡ç®—
  - ä»…åœ¨ç­›é€‰æ¡ä»¶å˜åŒ–æ—¶é‡æ–°è®¡ç®—
- âœ… åœ¨ `Home.vue` ä¸­ä½¿ç”¨ `v-memo` æŒ‡ä»¤ç¼“å­˜ BookCard æ¸²æŸ“ç»“æœ
  - ç¼“å­˜é”®åŒ…å«ï¼šbook.id, readingStatus, title, viewMode, highlight, selectionMode, selected
- âœ… ä¼˜åŒ–æ‰€æœ‰çŠ¶æ€æ›´æ–°æ–¹æ³•ï¼Œä½¿ç”¨æ–°æ•°ç»„å¼•ç”¨è§¦å‘æ›´æ–°

#### é˜²æŠ–èŠ‚æµä¼˜åŒ–
- âœ… åœ¨ `FilterBar.vue` ä¸­ä¸ºç±»å‹å’Œå¹³å°ç­›é€‰æ·»åŠ 300msé˜²æŠ–
  - ä½¿ç”¨æœ¬åœ°çŠ¶æ€å’Œé˜²æŠ–å‡½æ•°
  - å‡å°‘é¢‘ç¹çš„ç­›é€‰æ“ä½œå¸¦æ¥çš„æ€§èƒ½å¼€é”€

#### å›¾ç‰‡æ‡’åŠ è½½ä¼˜åŒ–
- âœ… åœ¨ `BookCard.vue` ä¸­ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿ `loading="lazy"` å±æ€§
- âœ… æ·»åŠ å›¾ç‰‡é”™è¯¯å¤„ç†ï¼Œæ˜¾ç¤ºå ä½ç¬¦
- âœ… ç®€åŒ–å®ç°ï¼Œæé«˜å¯é æ€§

#### è™šæ‹Ÿæ»šåŠ¨å®ç°
- âœ… åˆ›å»º `src/renderer/src/components/VirtualList.vue` ç»„ä»¶
  - è‡ªå®šä¹‰å®ç°ï¼Œä¸ä¾èµ–å¤–éƒ¨åº“
  - æ”¯æŒåŠ¨æ€è®¡ç®—å¯è§èŒƒå›´
  - æ”¯æŒ overscan é¢„åŠ è½½
- âœ… åœ¨ `Home.vue` ä¸­é›†æˆè™šæ‹Ÿæ»šåŠ¨
  - ä»…åœ¨ä¹¦ç±æ•°é‡è¶…è¿‡50æœ¬æ—¶å¯ç”¨
  - æ”¯æŒç½‘æ ¼è§†å›¾å’Œåˆ—è¡¨è§†å›¾
  - åŠ¨æ€è®¡ç®—é¡¹ç›®é«˜åº¦
- âœ… æ˜¾è‘—å‡å°‘DOMèŠ‚ç‚¹æ•°é‡ï¼Œæå‡é•¿åˆ—è¡¨æ¸²æŸ“æ€§èƒ½

### æŠ€æœ¯äº®ç‚¹

1. **æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–**ï¼šæ‰¹é‡æŸ¥è¯¢ + ç´¢å¼•ä¼˜åŒ– + åˆ†é¡µ + ç¼“å­˜ï¼Œå…¨æ–¹ä½æå‡æ•°æ®åº“æ€§èƒ½
2. **å‰ç«¯æ¸²æŸ“ä¼˜åŒ–**ï¼šshallowRef + è®¡ç®—å±æ€§ç¼“å­˜ + v-memo + è™šæ‹Ÿæ»šåŠ¨ï¼Œå¤§å¹…å‡å°‘é‡æ¸²æŸ“
3. **äº¤äº’ä¼˜åŒ–**ï¼šé˜²æŠ– + åŸç”Ÿæ‡’åŠ è½½ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
4. **æ€§èƒ½ç›‘æ§**ï¼šç¼“å­˜ç»Ÿè®¡å’Œæ¸…ç†æœºåˆ¶ï¼Œç¡®ä¿å†…å­˜ä½¿ç”¨åˆç†

### æ–‡ä»¶æ¸…å•

#### æ–°å¢æ–‡ä»¶
- `src/main/services/cache.ts` - æŸ¥è¯¢ç¼“å­˜æœåŠ¡
- `src/renderer/src/components/VirtualList.vue` - è™šæ‹Ÿæ»šåŠ¨ç»„ä»¶

#### ä¿®æ”¹æ–‡ä»¶
- `src/main/services/database.ts` - ä¼˜åŒ–æŸ¥è¯¢æ–¹æ³•ï¼Œæ·»åŠ æ‰¹é‡æŸ¥è¯¢å’Œç¼“å­˜
- `database/schema.sql` - æ·»åŠ å¤åˆç´¢å¼•
- `src/renderer/src/types/book.ts` - æ·»åŠ åˆ†é¡µç›¸å…³ç±»å‹å®šä¹‰
- `src/main/ipc/bookHandler.ts` - æ·»åŠ åˆ†é¡µæŸ¥è¯¢IPCå¤„ç†å™¨
- `src/renderer/src/api/book.ts` - æ·»åŠ åˆ†é¡µæŸ¥è¯¢APIæ–¹æ³•
- `src/preload/index.ts` - æš´éœ²åˆ†é¡µæŸ¥è¯¢API
- `src/preload/index.d.ts` - æ›´æ–°ç±»å‹å£°æ˜
- `src/renderer/src/stores/book.ts` - ä¼˜åŒ–çŠ¶æ€ç®¡ç†ï¼Œä½¿ç”¨shallowRefå’Œç¼“å­˜
- `src/renderer/src/views/Home.vue` - é›†æˆè™šæ‹Ÿæ»šåŠ¨å’Œv-memoä¼˜åŒ–
- `src/renderer/src/components/FilterBar.vue` - æ·»åŠ é˜²æŠ–å¤„ç†
- `src/renderer/src/components/BookCard.vue` - ä¼˜åŒ–å›¾ç‰‡æ‡’åŠ è½½

